# 프로젝트 관리 룰 (Ralph Workflow)

## 1) 목표
- 이 문서는 게임 개발 산출물의 생성, 정리, 보관 규칙을 고정한다.
- 기준: 반복 개발(레퍼런스 -> 기획 -> 그래픽 -> 개발 -> 리뷰 -> QA) 중에도 폴더가 난잡해지지 않게 유지.

## 2) 핵심 원칙
- 최신 작업물과 이력(아카이브)을 분리한다.
- 삭제보다 아카이브 이동을 우선한다.
- 이미지 레퍼런스는 로컬 파일 링크만 사용한다.
- 레퍼런스는 게임 개발에 필요한 스크린샷 중심으로 관리한다.

## 3) 폴더 운영 규칙
- 활성 산출물(현재 사용):
  - `docs/plans/`
  - `docs/plans/data/`
  - `docs/plans/images/`
  - `docs/references/`
  - `docs/graphics/`
  - `docs/reviews/` (필수 리뷰 결과)
- 이력 산출물(아카이브):
  - `docs/archive/ralph_runs/`
  - 하위 분류: `plans/`, `plans/data/`, `qa/`, `reviews/`, `graphics/`, `reference_reports/`

## 4) 파일 네이밍 규칙
- 계획서(주기 산출): `plan_YYYYMMDD_HHMMSS.md`
- QA: `qa_YYYYMMDD_HHMMSS.md`
- 리뷰: `review_YYYYMMDD_HHMMSS.md`
- 개발 로그: `development_log_YYYYMMDD_HHMMSS.md`
- 레퍼런스 인벤토리: `reference_inventory_YYYYMMDD_HHMMSS.md`
- 마스터 문서는 고정 파일명 유지:
  - `docs/plans/master_plan_300_pages.md`
  - `docs/plans/latest_plan.md`

## 5) 이미지/레퍼런스 규칙
- 외부 이미지 URL 직접 링크 금지.
- 기획서 이미지는 `docs/plans/images/...` 로컬 파일만 연결.
- 스크린샷 레퍼런스는 배치 폴더로 분할:
  - 예: `docs/plans/images/game_screenshots_generated/batch_0001/`
- 중복 이미지는 해시(SHA1) 기준으로 제거.

## 6) 반복 실행 규칙
- 대량 생성/수집은 청크 단위 실행:
  - 기본 청크 크기 500
  - 1회 실행 후 카운트/품질 점검 후 다음 청크
- 목표 개수(예: 10,000장)는 청크 누적으로 달성.

## 7) 품질 필터 규칙
- 레퍼런스는 아래 기준을 만족해야 한다.
  - 실제 게임 플레이 맥락(전투 화면, UI 맥락, 레인/전장/카드 상호작용)
  - 해상도 최소 기준(저품질/깨진 파일 제외)
  - 프로젝트 장르 연관성(카드/전략/전투 중심)
- 장르 무관 이미지 비율이 높아지면 즉시 수집 기준을 강화한다.

## 8) 운영 체크리스트
- 루트 docs에 timestamp 파일이 과도하게 쌓였는가?
- 최신 문서와 아카이브가 분리되어 있는가?
- master plan 이미지 링크가 모두 로컬 파일인가?
- CSV 매핑과 실제 파일 경로가 일치하는가?
- 리뷰/QA 결과를 남기고 다음 사이클로 넘어갔는가?

## 9) UI 기획서 작성 규칙 (추가)
- UI 기획서는 기능 나열이 아니라 "화면 단위 설계 문서"로 작성한다.
- 반드시 아래 순서로 작성한다.
  - 화면 목록/목적 정의
  - 사용자 시나리오와 플로우
  - 화면별 상세 정의(레이아웃, 컴포넌트, 상태)
  - 인터랙션/예외 처리
  - 개발 전달 스펙과 검수 기준
- 화면별 필수 항목:
  - 화면 ID, 화면명, 진입 조건, 이탈 조건
  - 핵심 목표(사용자가 이 화면에서 달성해야 하는 것 1문장)
  - UI 컴포넌트 표(컴포넌트 ID, 타입, 상태, 이벤트, 데이터 소스)
  - 상태 전이 규칙(기본/로딩/빈 상태/에러/완료)
  - 예외 처리(네트워크 실패, 데이터 없음, 입력 오류, 중복 입력)
  - 접근성/가독성(텍스트 대비, 버튼 크기, 피드백 시간)
- 흐름 표현 규칙:
  - 각 화면군마다 Mermaid 플로우차트 1개 이상 포함
  - 버튼/카드/탭 상호작용은 "트리거 -> 반응 -> 결과 상태"로 서술
- 개발 연동 규칙:
  - UI 기획서의 컴포넌트 ID와 실제 구현 노드/스크립트 ID를 매핑 표로 연결
  - 이벤트 명은 입력/로직/출력을 분리해 기록 (예: `ui.card_select`, `battle.deploy_request`, `ui.deploy_result`)
- 산출물 형식:
  - 본문: `.md`
  - 이미지: `docs/plans/images/ui/...`
  - 데이터 표: `docs/plans/data/ui_*.csv`
- 품질 게이트:
  - 화면 정의 누락 0건
  - 상태/예외 정의 누락 0건
  - 이미지/표/플로우가 없는 단문 텍스트 페이지 금지

## 10) 기획서 문서 양식 규칙 (고정)
- 모든 신규 기획서는 아래 장 구성을 기본 골격으로 사용한다.
- 문서 파일 시작 시 메타 블록을 고정으로 작성한다.
  - 문서명
  - 버전
  - 작성일
  - 작성자
  - 대상 빌드/브랜치
  - 참고 레퍼런스 목록(로컬 경로)
- 필수 장 구성:
  - 1. 프로젝트 개요 (장르, 플랫폼, 타깃, 한 줄 코어 루프)
  - 2. 핵심 재미/차별점 (왜 재밌는지, 경쟁작 대비 차이)
  - 3. 게임 루프/진행 구조 (신규/중기/장기 루프, 보상 구조)
  - 4. 시스템 기획 (전투, 성장, 경제, 매칭, 난이도)
  - 5. 콘텐츠 명세 (카드/캐릭터/맵/적/아이템)
  - 6. UI/UX 기획 (화면 흐름, 화면 정의서, 상태/예외)
  - 7. 밸런스/수치 정책 (공식, 목표 지표, 튜닝 규칙)
  - 8. 기술/구현 요구사항 (씬, 스크립트, 데이터 구조)
  - 9. QA/검수 기준 (기능, 성능, 재미, 회귀)
  - 10. 일정/마일스톤/리스크 (우선순위, 대응안)
- 각 장 공통 규칙:
  - 텍스트만 작성 금지
  - 최소 1개 표 포함
  - 필요 시 Mermaid 흐름도 포함
  - 관련 레퍼런스 이미지 로컬 링크 포함
- 페이지 작성 규칙:
  - 한 페이지(섹션)당 "목표/입력/출력/검수" 4요소를 명시한다.
  - 구현 연결 항목에 실제 코드 경로를 적는다. 예: `scripts/battle/*`, `scripts/ui/*`
- 데이터 분리 규칙:
  - 본문: `docs/plans/*.md`
  - 표 데이터: `docs/plans/data/*.csv`
  - 이미지: `docs/plans/images/...`
  - 외부 URL 이미지는 본문에 직접 링크하지 않는다.
- 템플릿 사용 규칙:
  - 기본 템플릿: `docs/plans/templates/game_plan_format_kr.md`
  - UI CSV 템플릿: `docs/plans/data/ui_screen_spec_template.csv`

## 11) 포트폴리오형 기획서 작성 원칙 (추가)
- 주제 범위 축소 원칙:
  - 한 문서는 "큰 장르 전체"가 아니라 "구현 가능한 단일 주제"로 제한한다.
  - 예: `수집형 RPG 전체 기획` 금지, `신규 보스 1종`, `신규 모드 1개`, `UI 개선 1개 흐름` 권장.
- 채용 공고 정합성 원칙:
  - 기획서 시작부에 목표 직무/회사 공고 요구사항 매핑 표를 넣는다.
  - `주요업무`, `지원자격`, `우대사항`별로 내 기획서의 대응 페이지를 명시한다.
- 플레이 경험 근거 원칙:
  - 기획 대상 게임/장르의 플레이 관찰 근거를 작성한다.
  - 최소 포함: 플레이 로그 요약, 문제 장면 캡처, 개선 전/후 가설.
- 신규/역기획 병행 원칙:
  - 신규 기획서 1종 + 역기획서 1종을 한 세트로 운영 가능.
  - 역기획서는 `의도 추정 -> 근거 -> 재설계 제안` 3단 구조를 따른다.
- 템플릿 가독성 원칙:
  - 표지/목차는 필수.
  - 과도한 장식보다 가독성(제목 계층, 컬러 수 제한, 여백)을 우선한다.
  - 글이 길어지는 페이지는 반드시 플로우차트/도식/이미지 요약을 함께 넣는다.
- 개요/본론/마무리 구조 원칙:
  - 개요: 대상 게임 소개, 제안 배경(Why), 기대 효과.
  - 본론: 진행 순서, 사용 시점, 단계별 상세 규칙/보상/예외.
  - 마무리: 핵심 재미, 유저 메리트, 검수 기준.
- 페이지 설계 규칙:
  - 각 페이지 상단에 현재 단계 배지(예: 준비/진행/마무리)를 넣어 흐름을 명확히 한다.
  - 각 페이지에 최소 1개 표 또는 1개 플로우를 포함한다.
  - 각 페이지에 "그래서 무엇이 달라지는가" 한 줄 결론을 넣는다.

## 12) 읽기 쉬운 기획서 고정 지침 (추가)
- 최우선 원칙:
  - 기획서의 1순위 목표는 "읽는 사람이 즉시 이해"하는 것이다.
  - 개발자, 아티스트, QA, 투자/사업 담당자가 같은 해석을 할 수 있어야 한다.
- 문장 규칙:
  - 한 문장은 짧고 단정하게 작성한다.
  - 용어는 문서 앞부분에서 정의하고, 동일 용어를 끝까지 유지한다.
  - 추상 표현 대신 수치/조건/예시를 함께 제시한다.
- 시각화 규칙:
  - 텍스트 단독 페이지 금지.
  - 각 장마다 최소 1개 표, 필요 시 플로우차트(Mermaid) 포함.
  - 핵심 규칙/공식은 박스 또는 표로 별도 분리.
- 목차 고정 규칙(기본 12장):
  - 1. 게임 개요 (Introduction)
  - 2. 게임 컨셉 (Game Concept)
  - 3. 스토리 및 세계관 (Story & Worldview)
  - 4. 게임 디자인 (Game Design)
  - 5. 핵심 시스템 설계 (Core Systems Design)
  - 6. 게임 아트 및 스타일 (Art & Visual Style)
  - 7. UI/UX 설계 (UI/UX Design)
  - 8. 플레이어 진행 및 성장 시스템 (Player Progression)
  - 9. 게임 레벨 및 콘텐츠 기획 (Level & Content Design)
  - 10. 사운드 디자인 (Sound Design)
  - 11. 멀티플레이 및 소셜 기능 (Multiplayer & Social Features)
  - 12. 기술 스펙 및 플랫폼 (Technical Specifications & Platform)
- 각 장 필수 요소:
  - 목적 1줄 요약
  - 핵심 규칙/정의 표
  - 구현 연결(코드/데이터 경로)
  - 검수 기준(완료 조건)
- BM(비즈니스 모델) 섹션 필수:
  - 프리미엄, DLC, 시즌패스, F2P, 가챠, 배틀패스, 광고, 구독, 인앱결제, NFT/블록체인, 리워드형 중 선택.
  - 선택 이유, 유저 경험 리스크(P2W/피로도), 완화 전략을 함께 작성.
- 손익분기점(BEP) 시뮬레이션 필수:
  - 팀 개발 시나리오와 1인 개발 시나리오를 분리 작성 가능.
  - 비용(인건비/에셋/툴/마케팅/운영), 가격 시나리오, 전환율, 예상 매출, BEP 충족 여부를 표로 제시.
  - 가정값과 계산식(예: `매출 = 가격 * 구매자수`)을 명시.

## 13) 실무 협업형 기획서 지침 (Slideshare 참고 반영)
- 핵심 전제:
  - 게임 기획서는 "완전한 사양서"가 아니라 "변경 가능한 설계도"다.
  - 목표는 완전성 자체가 아니라 "변동 범위를 예측하기 쉬운 문서"다.
- 문서 목적:
  - 구현 세부를 모두 고정하는 것이 아니라, 팀이 같은 방향으로 움직일 수 있게 "의도"를 전달한다.
  - 변경 시 의도/영향/대응을 빠르게 합의할 수 있게 한다.
- 필수 섹션:
  - 의도(Intention): 왜 이 기능/시스템이 필요한가
  - 고정 요소(Fixed): 변경하면 안 되는 핵심 규칙/제약
  - 가변 요소(Variable): 플레이테스트/개발 상황에 따라 조정 가능한 항목
  - 변동 범위(Forecast): 허용 가능한 수치 범위, 우선순위, 롤백 조건
  - 결정 기록(Decision Log): 변경 날짜, 변경 이유, 영향 범위, 승인자
- 프로그래머 협업 규칙:
  - 각 기능 정의에 입력/출력/예외/상태 전이를 명시한다.
  - 모호한 표현(적당히, 자주, 많이)을 금지하고 수치/조건으로 치환한다.
  - 구현 난이도 높은 항목은 대안 A/B와 트레이드오프를 함께 기재한다.
- 변경 관리 규칙:
  - 기획 변경이 발생하면 `무엇이`, `왜`, `어디에 영향`인지 3줄로 요약한다.
  - 기획 변경은 QA 케이스 업데이트와 함께 처리한다.
  - 문서 버전은 반드시 증가시키고, 이전 버전 링크를 남긴다.
- 참고 링크:
  - Slideshare: `https://www.slideshare.net/slideshow/20101002-53482961/53482961`

## 14) 게임기획 기본 프레임 확장 지침 (RockmanNetwork 참고 반영)
- 참고 링크:
  - `https://rockmannetwork.tistory.com/entry/%EA%B2%8C%EC%9E%84%EA%B8%B0%ED%9A%8D-%EA%B2%8C%EC%9E%84%EA%B8%B0%ED%9A%8D%EC%84%9C-%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EC%84%9C-%EC%96%91%EC%8B%9D`
  - `https://rockmannetwork.tistory.com/entry/%EA%B2%8C%EC%9E%84%EA%B8%B0%ED%9A%8D-%EA%B2%8C%EC%9E%84%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4-%EA%B8%B0%EC%B4%88-%EB%AC%B8%EC%84%9C-%EC%98%88%EC%8B%9C`
  - `https://rockmannetwork.tistory.com/entry/%EA%B2%8C%EC%9E%84%EA%B8%B0%ED%9A%8D-%EA%B2%8C%EC%9E%84%EA%B8%B0%ED%9A%8D%EC%84%9C-%EC%9E%91%EB%B2%95%EB%A1%A0%EB%B0%A9%EB%B2%95%EB%A1%A0`
- 프레임 선택 규칙:
  - 문서 시작 시 `프레임 A(콘텐츠 중심)` 또는 `프레임 B(메카닉/기술 중심)`를 명시한다.
  - 프로젝트 성격에 따라 두 프레임을 혼합할 수 있으나, 목차 순서와 섹션 명칭은 고정한다.
- 프레임 A 필수 구성:
  - 게임 개요
  - 게임 시스템 디자인
  - 캐릭터 및 시나리오
  - 레벨 디자인 설계
  - 게임 그래픽 아트 디자인
  - 게임 사운드 디자인
  - 게임 플레이 테스트 계획
  - 게임 출시 및 마케팅 계획(BM)
- 프레임 B 필수 구성:
  - 게임 개요
  - 게임 플레이 메카닉스
  - 레벨 디자인 설계
  - UI/UX
  - 아트/그래픽
  - 오디오/음악
  - 기술 사양
  - 마케팅 및 유통(BM)
  - 개발 일정
  - 예산
- 시놉시스 작성 규칙:
  - 시놉시스 문서는 `기-승-전-결` 4단 구조를 기본으로 작성한다.
  - 각 단계마다 `사건`, `플레이 목표`, `게임플레이 변화`, `감정선` 4요소를 표로 작성한다.
- 시스템 상세 문서 분리 규칙:
  - 전투/스킬은 본 기획서에서 요약하고, 상세는 별도 문서로 분리한다.
  - 필수 분리 문서:
    - `battle_system_design.md`
    - `skill_system_design.md`
    - `skill_animation_vfx_guide.md`
- 전투 시스템 전달 스펙(프로그래머용) 필수 항목:
  - 시스템 목적, 우선순위, 제한사항
  - 플로우차트
  - 구성요소(PC/NPC/아이템/스킬)
  - 규칙(공격력/피해/쿨타임/상태이상)
  - 변수 목록(이름, 범위, 기본값, 단위)
  - UI 인터페이스 정의
  - 예외 처리
  - 기술 요구사항(엔진/언어/라이브러리)
- 스킬 시스템 전달 스펙(프로그래머+아트) 필수 항목:
  - 스킬 종류/효과/조건/코스트
  - 습득/업그레이드 규칙
  - 입력 방식(키보드/패드/터치)
  - 쿨타임/범위/지속시간/데미지 공식
  - 애니메이션 길이, 타격 프레임, 캔슬 가능 구간
  - VFX/SFX 트리거 타이밍
  - 스킬 조합/시너지/카운터
  - 개선 방안 및 테스트 케이스
- BM/일정/예산 규칙:
  - BM 유형 선택 근거와 리스크를 반드시 명시한다.
  - 개발 일정은 마일스톤 단위로 작성한다.
  - 예산은 인건비/에셋/툴/마케팅/운영으로 분해해 작성한다.

## 15) 기획서-샘플-2 반영 지침 (맵/환경 중심 문서)
- 적용 대상:
  - 탐사형, 수집형, 필드 중심 게임 기획서
  - 월드 구조와 지역 디자인이 핵심인 프로젝트
- 목차 확장 규칙:
  - `맵 소개` 장을 별도 분리하고 아래 하위 항목을 포함한다.
    - 2D 평면도
    - 맵 연결관계
    - 범례 및 아이콘
    - 지형/해발(고도) 설명
    - 맵 파라미터(이동속도, 시야, 스폰, 위험도 등)
  - `지역 세부 소개` 장을 별도 분리한다.
    - 지역별 목적
    - 지역별 상호작용 오브젝트
    - 지역별 위험/보상
  - `지역별 백그라운드 환경 설정`과 `랜드마크 소개`를 포함한다.
  - `UI 세부 소개`를 별도 장으로 분리한다. (캐릭터 선택/생성 포함)
- 수집/생태형 시스템 표현 규칙:
  - 도감, 관찰, 등급(환경/수질/수집) 같은 장기 진행 변수를 표로 정의한다.
  - 등급 변화 조건, 저장 주기, 감소 조건을 수치로 명시한다.
- 벤치마크 표기 규칙:
  - 레퍼런스 게임을 기능 단위로 연결한다.
  - 형식: `참고작 -> 참고 시스템 -> 우리 게임 적용 방식 -> 차별화 포인트`
- 맵 데이터 산출물 규칙:
  - 맵 파라미터는 CSV로 분리 저장한다.
  - 권장 경로: `docs/plans/data/map_*.csv`
  - 권장 파일: `docs/plans/data/map_parameter_template.csv`
- 오브젝트/랜드마크 규칙:
  - 오브젝트는 ID, 상호작용 타입, 리스폰, 보상, 연계퀘스트를 기록한다.
  - 랜드마크는 위치, 해금 조건, 내러티브 역할, UI 표기 아이콘을 기록한다.
