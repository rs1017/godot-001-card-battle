# [SYS-001] 카드 시스템 기획서

## 1. 목표
- 카드 정의, 손패 순환, 카드 사용 조건을 표준화한다.

## 2. 입력/출력
| 구분 | 내용 |
|---|---|
| 입력 | 카드 데이터(`resources/cards/*.tres`), 플레이어 입력 |
| 출력 | 카드 사용 이벤트, 유닛/스킬 스폰 요청 |

## 3. 핵심 규칙
| 항목 | 규칙 |
|---|---|
| 초기 손패 | 5장 |
| 최대 손패 | 8장 |
| 카드 코스트 | 마나 이상일 때만 사용 가능 |
| 카드 타입 | 유닛, 스킬, 지속효과 |

## 4. 상태
| 상태 | 설명 |
|---|---|
| idle | 선택 안 된 상태 |
| selected | 사용 후보 상태 |
| committed | 배치 확정 상태 |
| cooldown_lock | 재사용 제한 상태(특수 카드) |

## 5. 예외 처리
| 예외 | 처리 |
|---|---|
| 코스트 부족 | 배치 거부 + 경고 UI |
| 잘못된 배치 위치 | 배치 취소 + 레드 하이라이트 |
| 카드 데이터 누락 | 기본 카드로 fallback + 로그 |

## 6. 구현 연결
- `scripts/ui/card_ui.gd`
- `scripts/battle/deck_manager.gd`
- `resources/cards/`

## 7. 검수 기준
- 카드 선택/해제 100회 연속 오류 0건.
- 코스트 부족 배치 시 유닛 스폰 0건.

