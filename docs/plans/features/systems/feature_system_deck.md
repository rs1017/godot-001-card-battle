# [SYS-002] 덱 시스템 기획서

## 1. 목표
- 덱 편성/저장/검증 규칙을 정의해 전투 진입 전에 유효한 덱을 보장한다.

## 2. 입력/출력
| 구분 | 내용 |
|---|---|
| 입력 | 소유 카드 목록, 유저 편성 입력 |
| 출력 | 저장된 덱 데이터, 전투 로딩용 덱 스냅샷 |

## 3. 덱 규칙
| 항목 | 값 |
|---|---|
| 덱 크기 | 20장 |
| 동일 카드 제한 | 최대 2장 |
| 최소 코스트 평균 | 2.0 |
| 최대 코스트 평균 | 4.5 |

## 4. 상태
| 상태 | 설명 |
|---|---|
| draft | 편성 중 |
| valid | 검증 통과 |
| invalid | 규칙 위반 |
| saved | 저장 완료 |

## 5. 예외 처리
| 예외 | 처리 |
|---|---|
| 덱 크기 부족 | 저장 버튼 비활성 |
| 중복 제한 초과 | 해당 카드 슬롯 강조 |
| 저장 실패 | 재시도 버튼 + 로그 |

## 6. 구현 연결
- `scripts/ui/deck_builder_ui.gd`
- `scripts/battle/deck_manager.gd`
- `scripts/autoload/GameManager.gd`

## 7. 검수 기준
- 잘못된 덱으로 매치 진입 0건.
- 저장 성공 시 로비/전투 동일 덱 일치율 100%.

