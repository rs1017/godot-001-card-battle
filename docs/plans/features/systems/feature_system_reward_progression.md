# [SYS-006] 보상/진행 시스템 기획서

## 1. 목표
- 전투 결과를 성장 동기로 연결하는 보상 구조를 설계한다.

## 2. 입력/출력
| 구분 | 내용 |
|---|---|
| 입력 | 승패, 전투 시간, 일일 퀘스트 상태 |
| 출력 | 골드/재료/포인트, 진행도 갱신 |

## 3. 보상 규칙
| 항목 | 승리 | 패배 |
|---|---|---|
| 기본 골드 | 120 | 60 |
| 카드 조각 | 3 | 1 |
| 랭크 포인트 | +15 | -8 |

## 4. 상태
| 상태 | 설명 |
|---|---|
| pending | 결과 계산 전 |
| granted | 보상 지급 완료 |
| synced | 서버/로컬 동기화 완료 |

## 5. 예외 처리
| 예외 | 처리 |
|---|---|
| 중복 지급 요청 | 트랜잭션 키로 차단 |
| 동기화 실패 | 재시도 큐 적재 |
| 데이터 손상 | 마지막 스냅샷 복구 |

## 6. 구현 연결
- `scripts/autoload/GameManager.gd`
- `scripts/ui/result_screen.gd`

## 7. 검수 기준
- 보상 중복 지급 0건.
- 결과 후 로비 복귀 시 재화 동기화 성공률 100%.

